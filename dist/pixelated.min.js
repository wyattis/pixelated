pixelated=function(t){var e={};function s(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"Pixelated",function(){return i}),s.d(e,"spread",function(){return a});class i{constructor(t,e,s,i){this.ctx=t,this.thickness=i,this.size=e,this.color=s,this.isAnimating=!1,this.numCols=Math.ceil(t.canvas.width/e),this.numRows=Math.ceil(t.canvas.height/e),this.pixels=[];for(let t=0;t<this.numRows;t++){let t=[];for(let e=0;e<this.numCols;e++)t.push({state:0,alpha:0});this.pixels.push(t)}this.updateSpread=this.updateSpread.bind(this)}spread(t,e){this.reset(),this.speed=e,this.isAnimating=!0,this.spawnPos={x:Math.floor(t.x/this.size),y:Math.floor(t.y/this.size)},this.spreadD=this.thickness,this._requestId=requestAnimationFrame(this.updateSpread)}reset(){cancelAnimationFrame(this._requestId);for(let t of this.pixels)for(let e of t)e.state=0}updateSpread(t){if(this.isAnimating){if(this._requestId=requestAnimationFrame(this.updateSpread),!this.lastTimestamp||t-this.lastTimestamp>this.speed){let e;this.isAnimating=!1;let s=this.spreadD*this.spreadD,i=(this.spreadD-this.thickness)*(this.spreadD-this.thickness);for(let t=0;t<this.pixels.length;t++)for(let a=0;a<this.pixels[t].length;a++){let n=this.pixels[t][a];3===n.state||(2===n.state?(n.alpha-=.1,n.alpha<=0&&(n.state=3)):(e=(this.spawnPos.x-a)*(this.spawnPos.x-a)+(this.spawnPos.y-t)*(this.spawnPos.y-t))<s&&e>=i?(n.state=1,n.alpha=Math.round(2*Math.random())/2):e<=i&&(n.state=2,n.alpha+=.5)),3!==n.state&&(this.isAnimating=!0)}this.lastTimestamp=t+(t-this.lastTimestamp)%this.speed,this.spreadD++,this.render()}}else this.reset()}render(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);for(let t=0;t<this.pixels.length;t++)for(let e=0;e<this.pixels[t].length;e++)0!==this.pixels[t][e].state&&(this.ctx.fillStyle=`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, ${this.pixels[t][e].alpha})`,this.ctx.fillRect(e*this.size,t*this.size,this.size,this.size))}}function a(){document.querySelectorAll(".pixelated").forEach(function(t){t.pixelated.spread({x:t.pixelated.ctx.canvas.width/2,y:t.pixelated.ctx.canvas.height/2},40)})}e.default=function(){document.querySelectorAll(".pixelated").forEach(function(t){let e=t.getBoundingClientRect(),s=document.createElement("canvas"),a=document.createElement("span");a.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(s),t.appendChild(a),s.width=e.width,s.height=e.height;let n=s.getContext("2d"),r=t.getAttribute("data-color").split(","),h=parseInt(t.getAttribute("data-size"),10)||10,l=parseInt(t.getAttribute("data-thickness"),10)||3,p={};p.r=r[0].replace("rgb(","").replace("rgba(","").replace(" ",""),p.g=r[1].replace(" ",""),p.b=r[2].replace(")","").replace(" ",""),t.pixelated=new i(n,h,p,l),t.addEventListener("click",function(e){let i=s.getBoundingClientRect(),a={x:e.clientX-i.left,y:e.clientY-i.top};t.pixelated.spread(a,1e3)})})}}]);